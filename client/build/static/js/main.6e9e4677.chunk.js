(this.webpackJsonpphone_list=this.webpackJsonpphone_list||[]).push([[0],{18:function(e,t,n){e.exports=n(43)},43:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),l=n.n(r),o=n(2),s=(n(23),n(3)),i=n.n(s),u=n(6),m=n(4),p=n.n(m),h=n(5),d=n(17),g=n.n(d),f={headers:{"Content-Type":"application/json"}},v=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("posting"),e.prev=1,e.next=4,g.a.post("/list",t,f);case 4:n=e.sent,console.log(n),200===n.status?i.a.toast({html:"Thank you, you were successfully added to the phone list."}):500===n.status&&i.a.toast({html:"Ah shit. Something went wrong."}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),i.a.toast({html:"Ah shit. Something went wrong."}),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getContacts called"),e.next=3,fetch("/list",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,console.log(n),console.log(n.length),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){for(var t=[],n=0;n<e.length;n++)!1===t.includes(e[n].meeting)&&t.push(e[n].meeting);return t},w=function(e){var t=e.setAdmin,n=Object(a.useState)(""),r=Object(o.a)(n,2),l=r[0],s=r[1],m=Object(a.useState)(""),p=Object(o.a)(m,2),h=p[0],d=p[1],g=Object(a.useState)(!1),f=Object(o.a)(g,2),E=f[0],b=f[1],w=Object(a.useState)("which"),y=Object(o.a)(w,2),j=y[0],x=y[1];return c.a.createElement("div",{className:"container",style:{width:"80%",marginTop:"80px"}},c.a.createElement("form",{className:"col s12",id:"UserForm"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12",style:{paddingRight:"50px"}},c.a.createElement("i",{className:"material-icons prefix"},"account_circle"),c.a.createElement("input",{id:"name",type:"text",value:l,className:"validate",onChange:function(e){return s(e.target.value)}}),c.a.createElement("label",{htmlFor:"name"},"Name")),c.a.createElement("div",{className:"input-field col s12",style:{paddingRight:"50px"}},c.a.createElement("i",{className:"material-icons prefix"},"phone"),c.a.createElement("input",{id:"phone",type:"text",value:h,className:"validate",onChange:function(e){return d(e.target.value)}}),c.a.createElement("label",{htmlFor:"phone"},"Telephone")),c.a.createElement("div",{className:"input-field col s12",style:{paddingRight:"50px",paddingLeft:"50px"}},c.a.createElement("select",{id:"meeting",value:j,onChange:function(e){return x(e.target.value)}},c.a.createElement("option",{value:"which",disabled:!0},"Which meeting?"),c.a.createElement("option",{value:"SNS"},"SNS"),c.a.createElement("option",{value:"Commitment"},"Thursday Commitment"),c.a.createElement("option",{value:"YoungPeoples"},"Young Peoples"))),c.a.createElement("p",{className:"col s12 center-align"},c.a.createElement("label",{htmlFor:"sponsor"},c.a.createElement("input",{type:"checkbox",id:"sponsor",value:E,onChange:function(e){return b(!E)},checked:E}),c.a.createElement("span",null,"Can you sponsor?"))),c.a.createElement("button",{className:"btn waves-effect waves-light",id:"submitBtn",style:{display:"inline-block",width:"100%",marginTop:"20px"},type:"submit",name:"submit",onClick:function(){if("Showme"===l)return console.log("Registered Admin"),void t(!0);if("which"!==j){var e=function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9"],a=0;a<e.length;a++)n.includes(e[a])&&(t=t.concat(e[a]));return e=Number(t)}(h),n={name:l,phone:e,sponsor:E,meeting:j};console.log(Object(u.a)({},n)),v(n),s(""),d(""),b(!1),x("which")}else i.a.toast({html:"Pick a meeting bro."})}},"Submit"))))},y=function(e){var t=e.contact;return c.a.createElement("li",{className:"collection-item"},c.a.createElement("span",null,t.name),c.a.createElement("br",null),c.a.createElement("span",{style:{paddingLeft:"20px"}},t.phone),t.sponsor?c.a.createElement("i",{className:"material-icons right green-text"},"check_circle"):c.a.createElement("span",{style:{fontSize:"2rem"}}," "))},j=function(e){var t=e.dataList,n=e.setFiltered,r=e.contacts,l=Object(a.useState)(""),s=Object(o.a)(l,2);s[0],s[1];return c.a.createElement("form",{className:"col s12",style:{padding:"30px"}},c.a.createElement("input",{type:"text",id:"filter",placeholder:"Filter By Meeting",list:"meetingList",onChange:function(e){var t=e.target.value,a=new RegExp(t,"gi"),c=r.filter((function(e){return e.meeting.match(a)}));n(c),console.log(c)}}),c.a.createElement("label",{for:"filter"},"Filter By Meeting"),c.a.createElement("datalist",{id:"meetingList"},t.map((function(e,t){return c.a.createElement("option",{key:t,value:e})}))))},x=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(null),s=Object(o.a)(l,2),i=s[0],m=s[1],d=Object(a.useState)(null),g=Object(o.a)(d,2),f=g[0],v=g[1],w=[];Object(a.useEffect)((function(){r(!0),function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),r(!1)}),[]);var x=[];return null!==i?(x=i,console.log(Object(u.a)({},x))):(x=f,console.log(Object(u.a)({},x))),null!==f&&!1===n&&(w=b(f),console.log(b(f))),c.a.createElement(a.Fragment,null,c.a.createElement(j,{dataList:w,setFiltered:m,contacts:f}),c.a.createElement("ul",{className:"collection",style:{width:"80%",margin:"auto",marginBottom:"20px"}},c.a.createElement("h5",{className:"center"},"Milwaukee Phone List"),null!==f?x.map((function(e){return c.a.createElement(y,{contact:e,key:e._id})})):""))},O=function(){return c.a.createElement(a.Fragment,null,c.a.createElement("nav",null,c.a.createElement("div",{className:"nav-wrapper teal lighten-1"},c.a.createElement("a",{href:"#!",className:"brand-logo center"},"MKE #List"))))};var N=function(){Object(a.useEffect)((function(){i.a.AutoInit()}),[]);var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement(O,null),n?c.a.createElement(x,null):c.a.createElement(w,{setAdmin:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.6e9e4677.chunk.js.map